# action_dispatch_uploaded_file
scalar File

# An ISO 8601-encoded datetime
scalar ISO8601DateTime

type Ingredient {
  id: Int!
  ingredientGroup: IngredientGroup
  name: String!
  number: String
  unitOfMeasurement: String
}

type IngredientGroup {
  id: Int!
  ingredients: [Ingredient!]
  name: String
}

type Label {
  id: Int!
  name: String!
}

type Mutation {
  recipeCreate(input: RecipeCreateInput!): RecipeCreatePayload
  recipeVote(input: RecipeVoteInput!): RecipeVotePayload
}

type Query {
  # The logged in user.
  currentUser: User

  # A recipe.
  recipe(id: ID!): Recipe

  # Categories of recipes.
  recipeCategories: [RecipeCategory!]

  # A list of the most popular recipes
  recipeFeed: [Recipe!]

  # A list of recipes
  recipes: [Recipe!]

  # Search for different record types
  search(acceptTypes: [String!]!, queryString: String!): [Searchable!]
}

type Recipe {
  calories: Int
  cookTime: Int
  createdAt: ISO8601DateTime!
  datePublished: ISO8601DateTime!
  description: String
  downvoted: Boolean!
  id: ID!
  images: [String!]
  ingredientGroups: [IngredientGroup!]
  ingredients: [Ingredient!]
  instructions: [RecipeInstruction!]
  labels: [Label!]
  numberOfServings: Int
  prepTime: Int
  recipeCategory: String
  score: Int!
  title: String!
  totalTime: Int
  updatedAt: ISO8601DateTime!
  upvoted: Boolean!
  upvotes: Int!
  user: User!
}

type RecipeCategory {
  id: Int!
  labels: [Label!]
  name: String!
}

# Autogenerated input type of RecipeCreate
input RecipeCreateInput {
  # A unique identifier for the client performing the mutation.
  clientMutationId: String
  recipe: RecipeInput!
}

# Autogenerated return type of RecipeCreate
type RecipeCreatePayload {
  # A unique identifier for the client performing the mutation.
  clientMutationId: String
  errors: [String!]!
  recipe: Recipe
}

input RecipeIngredientGroupInput {
  id: Int
  ingredients: [RecipeIngredientInput!]
  name: String
}

input RecipeIngredientInput {
  id: Int
  name: String!
  number: String
  unitOfMeasurement: String
}

input RecipeInput {
  calories: Int
  cookTime: Int
  description: String
  id: Int
  images: [File!]
  ingredientGroups: [RecipeIngredientGroupInput!]
  instructions: [RecipeInstructionInput!]
  labels: [RecipeLabelInput!]
  numberOfServings: Int
  prepTime: Int
  title: String!
  totalTime: Int
}

type RecipeInstruction {
  body: String!
  id: Int!
  step: Int!
}

input RecipeInstructionInput {
  body: String
  id: Int
  step: Int!
}

input RecipeLabelInput {
  id: Int
  name: String!
}

# Autogenerated input type of RecipeVote
input RecipeVoteInput {
  # A unique identifier for the client performing the mutation.
  clientMutationId: String
  recipeId: ID!
  upvote: Boolean!
}

# Autogenerated return type of RecipeVote
type RecipeVotePayload {
  # A unique identifier for the client performing the mutation.
  clientMutationId: String
  errors: [String!]!
}

# Objects which may be searched on
union Searchable = Recipe

type User {
  email: String!
  firstName: String!
  lastName: String!
}